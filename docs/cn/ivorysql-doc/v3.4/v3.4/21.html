<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>内置数据类型与内置函数 :: IvorySQL文档中心</title>
    <link rel="canonical" href="https://docs.ivorysql.org/ivorysql-doc/v3.4/v3.4/21.html">
    <link rel="prev" href="20.html">
    <link rel="next" href="22.html">
    <meta name="generator" content="Antora 3.1.7">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://docs.ivorysql.org">IvorySQL文档中心</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://www.ivorysql.org/">官方网站</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ivorysql-doc" data-version="v3.4">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="welcome.html">IvorySQL</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="welcome.html">欢迎</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1.html">发行说明</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="2.html">关于IvorySQL</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">IvorySQL入门</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="3.html">快速开始</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="4.html">日常监控</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="5.html">日常维护</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">IvorySQL高级</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="6.html">安装指南</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="7.html">集群搭建</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="8.html">开发者指南</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="9.html">运维管理指南</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="10.html">迁移指南</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">IvorySQL生态</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="11.html">PostGIS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="12.html">pgvector</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Oracle兼容功能列表</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="14.html">1、框架设计</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="15.html">2、GUC框架</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="16.html">3、大小写转换</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="17.html">4、双模式设计</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="18.html">5、兼容Oracle like</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="19.html">6、兼容Oracle匿名块</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="20.html">7、兼容Oracle函数与存储过程</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="21.html">8、内置数据类型与内置函数</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="22.html">9、新增Oracle兼容模式的端口与IP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="26.html">10、XML函数</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="27.html">11、兼容Oracle sequence</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="23.html">社区贡献指南</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="24.html">工具参考</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="25.html">FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">IvorySQL</span>
    <span class="version">v3.4</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../v4.4/v4.4/welcome.html">IvorySQL</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../v4.4/v4.4/welcome.html">v4.4</a>
        </li>
        <li class="version">
          <a href="../../v4.2/v4.2/welcome.html">v4.2</a>
        </li>
        <li class="version">
          <a href="../../v4.0/v4.0/welcome.html">v4.0</a>
        </li>
        <li class="version is-current">
          <a href="welcome.html">v3.4</a>
        </li>
        <li class="version">
          <a href="../../v3.3/v3.3/welcome.html">v3.3</a>
        </li>
        <li class="version">
          <a href="../../v3.2/v3.2/welcome.html">v3.2</a>
        </li>
        <li class="version">
          <a href="../../v3.1/v3.1/welcome.html">v3.1</a>
        </li>
        <li class="version">
          <a href="../../v3.0/v3.0/welcome.html">v3.0</a>
        </li>
        <li class="version">
          <a href="../../v2.3/v2.3/welcome.html">v2.3</a>
        </li>
        <li class="version">
          <a href="../../v2.2/v2.2/welcome.html">v2.2</a>
        </li>
        <li class="version">
          <a href="../../v2.1/v2.1/welcome.html">v2.1</a>
        </li>
        <li class="version">
          <a href="../../v1.17/v1.17/welcome.html">v1.17</a>
        </li>
        <li class="version">
          <a href="../../v1.8/v1.8/welcome.html">v1.8</a>
        </li>
        <li class="version">
          <a href="../../v1.5/v1.5/welcome.html">v1.5</a>
        </li>
        <li class="version">
          <a href="../../v1.4/v1.4/welcome.html">v1.4</a>
        </li>
        <li class="version">
          <a href="../../v1.3/v1.3/welcome.html">v1.3</a>
        </li>
        <li class="version">
          <a href="../../v1.2/v1.2/welcome.html">v1.2</a>
        </li>
        <li class="version">
          <a href="../../v1.1/v1.1/welcome.html">v1.1</a>
        </li>
        <li class="version">
          <a href="../../v1.0/v1.0/welcome.html">v1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../v4.4/v4.4/welcome.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="welcome.html">IvorySQL</a></li>
    <li>Oracle兼容功能列表</li>
    <li><a href="21.html">8、内置数据类型与内置函数</a></li>
  </ul>
</nav>
  <div class="page-versions">
  <button class="version-menu-toggle" title="switch to English">CN</button>
  <div class="version-menu">
    <a class="version is-current" href="">CN</a>
    <a class="version" href="../../../../en/ivorysql-doc/v3.4/v3.4/21.html">EN</a>
  </div>
  </div>
  <div class="edit-this-page"><a href="https://github.com/IvorySQL/ivorysql_docs/edit/v3.4/CN/modules/ROOT/pages/v3.4/21.adoc">编辑此页面</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="目录" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">内置数据类型与内置函数</h1>
<div class="sect1">
<h2 id="内置数据类型"><a class="anchor" href="#内置数据类型"></a>1. 内置数据类型</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">char</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">varchar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">varchar2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binary_float</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binary_double</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp with time zone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp with local time zone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">interval year to month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">interval day to second</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">raw</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="内置函数类型"><a class="anchor" href="#内置函数类型"></a>2. 内置函数类型</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sysdate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">systimestamp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">add_months</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">next_day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">months_between</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current_date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current_timestamp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">new_time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tz_offset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trunc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instrb</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">substr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">substrb</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trim</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ltrim</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rtrim</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">length</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lengthb</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rawtohex</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regexp_replace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regexp_substr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regexp_instr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regexp_like</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_char</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_timestamp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_timestamp_tz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_yminterval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_dsinterval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numtodsinterval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numtoyminterval</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">localtimestamp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">from_tz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sys_extract_utc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sessiontimezone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hextoraw</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">USERENV</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asciistr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_multi_byte</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to_single_byte</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compose</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decompose</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="内置函数说明"><a class="anchor" href="#内置函数说明"></a>3. 内置函数说明</h2>
<div class="sectionbody">
<div class="paragraph">
<p>1、兼容sysdate函数，功能：查看对应的日期与时间，测试用例如下：
查询当前系统的日期：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select sysdate() from dual;
  sysdate
------------
 2023-07-06
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询往前推1天的日期：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select sysdate()-1 from dual;
  ?column?
------------
 2023-07-05
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>2、兼容systimestamp函数，功能：返回本机数据库上当前系统日期和时间（包括微秒和时区），测试用例如下：
查询当前日期的日期和时间：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select systimestamp() from dual;
  systimestamp
-----------------------------------
 2023-07-06 10:18:31.674322 +08:00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>3、兼容add_months函数，功能：函数将一个月数(n)添加一个日期，并返回相隔n月的同一天，支持参数：date, number；测试用例如下：
查询当前日期（七月六日）的下个月的同一天：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select add_months(sysdate(),1) from dual;
 add_months
------------
 2023-08-06
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询当前日期的上个月的同一天：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select add_months(sysdate(),-1) from dual;
 add_months
------------
 2023-06-06
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>4、兼容last_day函数，功能：返回指定日期所在月份的最后一天，支持参数：date,测试用例如下：
查询当天所在月份的最后一天：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select last_day(sysdate())from dual;
  last_day
------------
 2023-07-31
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询某一天所在月份的最后一天：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select last_day(to_date('2019-09-01'))from dual;
  last_day
------------
 2019-09-30
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>5、兼容next_day函数，功能：返回指定日期的下一个日期。支持参数:date, integer /date ,text, 说明：当函数中第二个参数传的星期数比现有星期数小时，会返回下一个星期的日期；当函数中第二个参数所传的日期比现有星期数大，会返回本周相应星期日期。测试用例如下：
查询当前日期的下一天：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select next_day(sysdate(),1) from dual;
 next_day
------------
 2023-07-07
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询当前日期的下个星期五：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select next_day(sysdate(),'FRIDAY') from dual;
  next_day
------------
 2023-07-07
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>6、兼容months_between函数，功能：返回日期类型的date1和date2之间相差的月份，支持参数：date,date，说明：如果date1晚于date2，返回正数；如果date1早于date2返回负数；如果date1和date2是某月里的同一天，返回结果为整数；如果不是同一天，会在每月31天的基础上返回带有小数部分的结果。测试用例如下：
查询不同月份同一天之间相差的月份：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select months_between(to_date('2023-07-06'),to_date('2023-08-06')) from dual;
 months_between
----------------
             -1
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询不同月份不同日期之间相差的月份：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select months_between(to_date('2023-07-06'),to_date('2023-08-05')) from dual;
   months_between
--------------------
 -0.967741935483871
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>7、兼容current_date函数，功能：返回当前时区的当前日期，测试用例如下：
查询当前时区的当前日期：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select current_date from dual;
 current_date
--------------
 2023-07-06
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>8、兼容current_timestamp函数，功能：返回当前时区的当前日期与当前时间，包含当前时区信息。支持参数：integer, 说明：返回的时间可调整精度。测试用例如下：
查询当前时区的当前日期与时间：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select current_timestamp from dual;
      current_timestamp
-----------------------------------
 2023-07-06 10:27:01.440600 +08:00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询当前时区的当前日期与时间(精度调整为前三位小数)：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select current_timestamp(3) from dual;
      current_timestamp
-----------------------------------
 2023-07-06 10:27:14.182000 +08:00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>9、兼容new_time函数，功能：返回某个时间在某时区所对应的在另一个时区的日期，支持参数：date, text, text ,测试用例如下：
返回当前日期在另一个时区对应的日期：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select sysdate() bj_time,new_time(sysdate(),'PDT','GMT')los_angles from dual;
  bj_time   | los_angles
------------+------------
 2023-07-06 | 2023-07-06
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>10、兼容tz_offset函数，功能：返回给定时区与标准时区的偏移量，支持参数：text,测试用例如下：
返回给定时区与标准时区偏移量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select tz_offset('US/Eastern') from dual;
 tz_offset
-----------
 -04:00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>11、兼容trunc函数，功能：可以截取日期，得到想要的数值，如年，月，日，时，分，支持参数：date/date,text,测试用例如下：
截取当前日期：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select trunc(sysdate()) from dual;
 trunc
------------
 2023-07-06
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>截取年，返回值只有年是正确的，月和日不是准确值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select trunc(sysdate(),'yyyy') from dual;
   trunc
------------
 2023-01-01
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>截取月，返回值只有月是正确的，年和日不是准确值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select trunc(sysdate(),'mm') from dual;
   trunc
------------
 2023-07-01
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>12、兼容instrb函数，功能：字符串查找函数，返回字符串的位置，支持参数： varchar2, text, number DEFAULT 1, number DEFAULT 1,以下为测试用例：
返回CORPORATE FLOOR中默认第一次出现OR时字符串的位置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT INSTRB('CORPORATE FLOOR','OR') "Instring in bytes" FROM DUAL;
 Instring in bytes
-------------------
                 2
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>返回corporate floor中从第五个字符开始查询，第二次出现or时字符串的位置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT INSTRB('CORPORATE FLOOR','OR',5,2) "Instring in bytes" FROM DUAL;
 Instring in bytes
-------------------
                14
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>13、兼容substr函数，功能：截取字符串函数，以字符为单位截取，支持参数：text, integer, 测试用例如下：
截取’今天天气很好’中从第五个字符开始，往后的字符串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT SUBSTR('今天天气很好',5) "Substring with bytes" FROM DUAL;

 Substring with bytes
----------------------
 很好
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>14、兼容substrb函数，功能：截取字符串函数，以字节为单位截取，支持参数：varchar2, number/varchar2, number，number,测试用例如下：
截取’今天天气很好’中从第五个字节开始，往后的字符串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT SUBSTRB('今天天气很好',5) "Substring with bytes" FROM DUAL;
 Substring with bytes
----------------------
 天气很好
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>截取’今天天气很好’中从第五个字节开始，第八个字节结束的字符串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT SUBSTRB('今天天气很好',5，8) "Substring with bytes" FROM DUAL;
 Substring with bytes
----------------------
   天气
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>15、兼容trim函数，功能：去除指定字符串的左右空格或对应数据，支持参数：varchar2 /varchar2，varchar2，测试用例如下：
去除'   aaa bbb ccc   '的左右空格：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select trim('   aaa bbb ccc   ')trim from dual;
  trim
-------------
 aaa bbb ccc
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>去除&#8217;aaa bbb ccc&#8217;中的aaa：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select trim('aaa bbb ccc','aaa')trim from dual;
  trim
----------
  bbb ccc
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>16、兼容ltrim函数，功能：去除指定字符串的左侧空格或对应数据，支持参数：varchar2 /varchar2,varchar2,测试用例如下：
去除'   abcdefg   '的左侧空格：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select ltrim('   abcdefg   ')ltrim from dual;
    ltrim
------------
 abcdefg
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>从&#8217;abcdefg&#8217;左侧开始遍历，一旦存在某字符出现在&#8217;fegab&#8217;中就去除，不存在则返回结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select ltrim('abcdefg','fegab')ltrim from dual;
 ltrim
-------
 cdefg
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>17、兼容rtrim函数，功能：去除指定字符串的右侧空格，测试用例如下：
去除'   abcdefg   '的右侧空格：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select rtrim('   abcdefg   ')rtrim from dual;
     rtrim
----------------
    abcdefg
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>从&#8217;abcdefg&#8217;右侧开始遍历，一旦存在某字符出现在&#8217;fegab&#8217;中就去除，不存在则返回结果：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select rtrim('abcdefg','fegab')rtrim from dual;
 rtrim
-------
 abcd
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>18、兼容length函数，功能：求取指定字符串字符的长度，支持参数：char/integer/varchar2测试用例如下：
查询223的字符长度：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select length(223) from dual;
 length
--------
      3
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询'223&#8217;的字符长度：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select length('223') from dual;
 length
--------
      3
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询&#8217;ivorysql数据库&#8217;的字符长度：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select length('ivorysql数据库') from dual;
 length
--------
     11
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>19、兼容lengthb功能：求取指定字符串字节的长度，支持参数：char/bytea/varchar2测试用例如下：
查询&#8217;ivorysql&#8217;的字节长度:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select lengthb('ivorysq'::char) from dual;
 lengthb
---------
       1
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询'0x2C&#8217;的字节长度:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select lengthb('0x2C'::bytea) from dual;
 lengthb
---------
       4
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询&#8217;ivorysql数据库&#8217;的字节长度：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select lengthb('ivorysql数据库'::varchar2) from dual;
 lengthb
---------
      17
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>20、兼容replace函数，功能：替换指定字符串中的字符或删除字符，支持参数：text, text, text/varchar2, varchar2, varchar2 DEFAULT NULL::varchar2, 测试用例如下：
替换&#8217;jack and jue&#8217;中的&#8217;j&#8217;为&#8217;bl'：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select replace('jack and jue','j','bl') from dual;
    replace
----------------
 black and blue
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>删除&#8217;jack and jue&#8217;中的&#8217;j':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select replace('jack and jue','j') from dual;
  replace
------------
 ack and ue
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>21、兼容regexp_replace函数，此函数为replace函数的扩展。功能：用于通过正则表达式来进行匹配替换。支持参数：text, text, text /text, text, text, integer/varchar2, varchar2/varchar2, varchar2 varchar2, 测试用例如下：
将匹配到的数字替换为*#：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_replace('01234abcd56789','[0-9]','*#')from  dual;
      regexp_replace
--------------------------
 *#*#*#*#*#abcd*#*#*#*#*#
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>从第二个数开始将匹配到的数字替换为*#：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_replace('01234abcd56789','[0-9]','*#',2)from  dual;
    regexp_replace
-------------------------
 0*#*#*#*#abcd*#*#*#*#*#</code></pre>
</div>
</div>
<div class="paragraph">
<p>删除'01234abcd56789&#8217;中的'01'：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_replace('01234abcd56789','01')from dual;
 regexp_replace
----------------
 234abcd56789
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>用&#8217;xxx&#8217;替换01234abcd56789&#8217;中的012：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_replace('01234abcd56789','012','xxx')from dual;
 regexp_replace
----------------
 xxx34abcd56789
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>22、兼容regexp_substr函数，功能：拾取合符正则表达式描述的字符子串，支持参数：text, text,integer /text, text, integer, integer/ text, text, integer, integer, text /varchar2 ,varchar2,测试用例如下：
查询'012ab34&#8217;中从第一个数开始的012字串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_substr('012ab34', '012',1) from dual;
 regexp_substr
---------------
 012
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询'012ab34&#8217;中从第一个数第一组开始的012字串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_substr('012ab34', '012',1,1) from  dual;
 regexp_substr
---------------
 012
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询'012a012Ab34&#8217;中从第一个数第一组开始不区分大小写的012字串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_substr('012a012Ab34', '012A',1,1,'i') from dual;
 regexp_substr
---------------
 012a
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询'012a012Ab34&#8217;中从第一个数第一组开始区分大小写的012字串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_substr('012a012Ab34', '012A',1,1,'c') from dual;
 regexp_substr
---------------
 012A
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询&#8217;数据库&#8217;中 '数据&#8217;子串：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select regexp_substr('数据库', '数据') from dual;
 regexp_substr
---------------
 数据
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>23、兼容regexp_instr函数，功能：用于标定符合正则表达式的字符子串的开始位置，支持参数：text, text,integer /text, text, integer, integer/ text, text, integer, integer, text/text, text, integer, integer, text, integer/ varchar2, varchar2,测试用例如下：
查询&#8217;abcaBcabc&#8217;中从第一个字符开始，出现abc子串的位置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT regexp_instr('abcaBcabc', 'abc', 1);
 regexp_instr
--------------
 1
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询&#8217;abcaBcabc&#8217;中从第一个字符开始，第三次出现abc子串的位置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT regexp_instr('abcaBcabc', 'abc', 1, 3);
 regexp_instr
--------------
 7
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询&#8217;abcabcabc&#8217;中从第一个字符开始，第二次出现abc子串后发生的位置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT regexp_instr('abcaBcabc', 'abc', 1, 2,1);
 regexp_instr
--------------
 7
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询&#8217;abcaBcabc&#8217;中从第一个字符开始，第一次出现abc子串后发生的位置（区分大小写）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT regexp_instr('abcaBcabc', 'abc',1,2,1,'c');
 regexp_instr
--------------
 7
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询&#8217;数据库&#8217;中&#8217;库&#8217;出现的位置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT regexp_instr('数据库', '库');
 regexp_instr
--------------
            3
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>24、兼容regexp_like函数，功能：与like类似，用于模糊查询。支持参数：varchar2, varchar2 /varchar2, varchar2 varchar2,
首先创建一个regexp_like表用于测试用例查询：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">create table t_regexp_like
(
  id varchar(4),
  value varchar(10)

);
insert into t_regexp_like values ('1','1234560');
insert into t_regexp_like values ('2','1234560');
insert into t_regexp_like values ('3','1b3b560');
insert into t_regexp_like values ('4','abc');
insert into t_regexp_like values ('5','abcde');
insert into t_regexp_like values ('6','ADREasx');
insert into t_regexp_like values ('7','123  45');
insert into t_regexp_like values ('8','adc  de');
insert into t_regexp_like values ('9','adc,.de');
insert into t_regexp_like values ('10','abcbvbnb');
insert into t_regexp_like values ('11','11114560');</code></pre>
</div>
</div>
<div class="paragraph">
<p>测试用例如下：
查询t_regexp_like表中带有abc的列：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select * from t_regexp_like where regexp_like(value,'abc');
 id |  value
----+----------
 4  | abc
 5  | abcde
 10 | abcbvbnb
(3 rows)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询t_regexp_like表中带有ABC的列(不区分大小写)：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select * from t_regexp_like where regexp_like(value,'ABC','i');
 id |  value
----+----------
 4  | abc
 5  | abcde
 10 | abcbvbnb
(3 rows)</code></pre>
</div>
</div>
<div class="paragraph">
<p>25、兼容to_number函数，功能：是将一些处理过的按一定格式编排过的字符串变回数值型的格式，支持参数：text/text,text测试用例如下：
将字符串'-34,338,492&#8217;转换为数值型格式：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT to_number('34,338,492', '99,999,999') from dual;
 to_number
-----------
 -34338492
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>将字符串'5.01-'转换为数值型格式：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT to_number('5.01-', '9.99S');

 to_number
-----------
 -5.01
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>26、兼容to_char函数，功能：将数字或日期转换为字符类型，支持参数：date/date,text/timestamp/timestamp,text测试用例如下：
将当前系统日期转换为字符格式：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select to_char(sysdate()) from dual;
  to_char
------------
 2023-07-10
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>将当前系统日期转换为月份/日期/年字符格式：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select to_char(sysdate(),'mm/dd/yyyy') from dual;
  to_char
------------
 07/10/2023
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>将当前日期的timestamp格式转换为字符格式：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT to_char(sysdate()::timestamp);
         to_char
----------------------------
 2023-07-10 09:46:44.000000</code></pre>
</div>
</div>
<div class="paragraph">
<p>将当前日期的timestamp格式转换为月份/日期/年字符格式：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT to_char(sysdate()::timestamp,'MM-YYYY-DD');
  to_char
------------
 07-2023-10
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>27、兼容to_date函数，功能：将字符类型转换为日期类型，支持参数：text/text,text测试用例如下：
将'2023/07/06&#8217;转换为日期类型：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select to_date('20230706') from dual;
  to_date
------------
 2023-07-06
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>将'-44-02-01&#8217;转换为日期类型：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT to_date('-44,0201','YYYY-MM-DD');
 to_date
------------
 0044-02-01
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>28、兼容to_timestamp函数，功能：可以存储年、月、日、小时、分钟、秒，同时还可以存储秒的小数部分。支持参数：text/text,text测试用例如下：
查询'2018-11-02 12:34:56.025&#8217;以日期形式输出：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT to_timestamp('20181102.12.34.56.025');
        to_timestamp
----------------------------
 2018-11-02 12:34:56.025000
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询’2011,12,18 11:38’以日期形式输出：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT to_timestamp('2011,12,18 11:38 ', 'YYYY-MM-DD HH24:MI:SS');
       to_timestamp
----------------------------
 2011-12-18 11:38:00.000000
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>29、兼容to_timestamp_tz函数,功能：根据时间查询，时间字符串有T,Z并有毫秒，时区。测试用例如下：
查询'2016-10-9 14:10:10.123000&#8217;以日期形式输出：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc"> SELECT to_timestamp_tz('2016-10-9 14:10:10.123000') FROM DUAL;
          to_timestamp_tz
-----------------------------------
 2016-10-09 14:10:10.123000 +08:00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询'10-9-2016 14:10:10.123000 +8:30&#8217;以日期形式输出：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc"> SELECT to_timestamp_tz('10-9-2016 14:10:10.123000 +8:30', 'DD-MM-YYYY HH24:MI:SS.FF TZH:TZM') FROM DUAL;
          to_timestamp_tz
-----------------------------------
 2016-09-10 13:40:10.123000 +08:00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>30、兼容to_yminterval函数，功能：将一个字符串类型转化为年和月的时间差类型，支持参数:text, 测试用例如下：
查询'20110101&#8217;以后两个年零八个月后的日期：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select to_date('20110101','yyyymmdd')+to_yminterval('02-08') from dual;
  ?column?
------------
 2013-09-01
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>31、兼容to_dsinterval函数，功能：将一个日期加上一定的小时或者天数变成另外一个日期,支持参数:text,测试用例如下：
查询当前系统时间加上9个半小时后的日期（当前为2023-07-06，18：00）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select sysdate()+to_dsinterval('0 09:30:00')as newdate from dual;
 newdate
------------
 2023-07-07
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>32、兼容numtodsinterval函数，功能：将数字转换成时间间隔类型的数据。支持参数:double precision, text测试用例如下：
转换100.00个小时为时间间隔类型数据：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT NUMTODSINTERVAL(100.00, 'hour');
        numtodsinterval
-------------------------------
 +000000004 04:00:00.000000000
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>转换100分钟为时间间隔类型数据：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT NUMTODSINTERVAL(100, 'minute');
      numtodsinterval
-------------------------------
 +000000000 01:40:00.000000000
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>33、兼容numtoyminterval函数，功能：将数字转换成日期间隔类型的数据。
支持参数：double precision,text,测试用例如下：
转换1.00，year为日期间隔：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT NUMTOYMINTERVAL(1.00,'year');
 numtoyminterval
-----------------
 +000000001-00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>转换1，mouth为日期间隔：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT NUMTOYMINTERVAL(1,'month');
 numtoyminterval
-----------------
 +000000000-01
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>34、兼容localtimestamp函数，功能：返回会话中的日期和时间，支持参数：integer, 函数中增加参数为精度，测试用例如下：
返回当前会话中的日期和时间：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select localtimestamp from dual;
       localtimestamp
----------------------------
 2023-07-07 09:18:15.896472
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>返回当前会话中的日期和时间（精度为1）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select localtimestamp(1) from dual;
     localtimestamp
----------------------------
 2023-07-07 09:18:16.100000
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>35、兼容from_tz函数，功能：将时间从一个时区转换为另一个时区，支持参数;timestamp, text ,测试用例如下：
将'2000-03-28 08:00:00', '3:00&#8217;转换为当前时区：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">SELECT FROM_TZ(TIMESTAMP '2000-03-28 08:00:00', '3:00') FROM DUAL;
              from_tz
-----------------------------------
 2000-03-28 13:00:00.000000 +08:00
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>36、兼容sys_extract_utc函数，功能：将一个timestamptz转换为UTC时区时间。支持参数:timestamp with time zone 测试用例如下：
查询转换timestamp '2000-03-28 11:30:00.00 -8:00&#8217;为UTC时区后的时间：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select sys_extract_utc(timestamp '2000-03-28 11:30:00.00 -8:00') from dual;
      sys_extract_utc
----------------------------
 2000-03-28 19:30:00.000000
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>37、兼容sessiontimezone函数，功能：查看时区详细信息，测试用例如下：
查看当前时区的详细信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select sessiontimezone() from dual;
 sessiontimezone
-----------------
 Asia/Shanghai
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>修改timezone后，查看时区相信信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">set timezone = 'Asia/Hong_Kong';
SET
select sessiontimezone() from dual;
 sessiontimezone
-----------------
 Asia/Hong_Kong
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>38、兼容hextoraw函数，功能：将字符串表示的二进制数值转换为一个raw数值。支持参数：text,测试用例如下：
将字符串&#8217;abcdef&#8217;转换为raw数值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select hextoraw('abcdef')from dual;
 hextoraw
----------
 \xabcdef
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>39、兼容uid函数，功能：获取数据库的实例名。测试用例如下：
获取当前数据库的实例名：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select uid() from dual;
 uid
-----
  10
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>40、兼容USERENV函数，功能：返回当前用户环境的信息，测试用例如下：
查看当前用户是否是dba，如果是返回ture：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select userenv('isdba')from dual;
 get_isdba
-----------
 TRUE
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看会话标志：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select userenv('sessionid')from dual;
 get_sessionid
---------------
 1
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>41、兼容ASCIISTR函数，功能：传入字符串，返回对应的ASCII字符，测试用例如下：
只有ASCII字符：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc"> select asciistr('Hello, World!') from dual;
   asciistr
---------------
 Hello, World!
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>非ASCII字符：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc"> select asciistr('你好') from dual;
  asciistr
------------
 \4F60\597D</code></pre>
</div>
</div>
<div class="paragraph">
<p>同时包含ASCII字符和非ASCII字符：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc"> select asciistr('ABÄCDE') from dual;
  asciistr
------------
 AB\00C4CDE
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>42、兼容TO_MULTI_BYTE函数, 功能：将字符串中的半角字符转换为全角字符：
输入半角字符，转换为全角字符：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select to_multi_byte('1.2'::text) ;
 to_multi_byte
---------------
 １．２</code></pre>
</div>
</div>
<div class="paragraph">
<p>43、兼容TO_SINGLE_BYTE函数, 功能：将字符串中的半角字符转换为全角字符
输入全角字符，转换为半角字符：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select to_single_byte('１．２');
 to_single_byte
----------------
 1.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>44、兼容COMPOSE函数,功能：将基本字符和组合标记组合一个复合Unicode字符:
输入基本字符a和组合标记768, 返回法语à</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select compose('a'||chr(768)) from dual;
 compose
---------
 à
(1 row)</code></pre>
</div>
</div>
<div class="paragraph">
<p>45、兼容DECOMPOSE函数,功能：将复合Unicode字符（如带有重音或特殊符号的字符）分解为其基本字符和组合标记
输入法语é,返回基本字符e和组合标记301：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">select asciistr(decompose('é')) from dual;
 asciistr
----------
 e\0301</code></pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="20.html">7、兼容Oracle函数与存储过程</a></span>
  <span class="next"><a href="22.html">9、新增Oracle兼容模式的端口与IP</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">

</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
